!function(e){"function"==typeof define&&define.amd&&define(["jquery"],e)}(function(e,t,n){"use strict";function o(e,t){var n=e.length-1,i=t.width();for(n;n>=0;n-=1)if(i>=e[n])return n}function l(e){return{width:e.outerWidth(),height:e.outerHeight()}}function r(e,t,n){var i=e.position(),s=n.scrollLeft(),a=n.scrollTop();return{top:i.top-a,left:i.left-s,bottom:i.top-a+t.height,right:i.left-s+t.width}}function d(t,n){var i=this;i.element=e(t),i.tooltip=e("#"+i.element.attr(s.aDes)),i.settings=e.extend({},e.fn.ariaTooltip.defaultSettings,n),i.tooltipStatus=!1,i.init()}var i="ariaTooltip",s={aHi:"aria-hidden",aDes:"aria-describedby",r:"role",t:"true",f:"false"},a=e(t);e.extend(d.prototype,{init:function(){var t=this,n=t.settings,o=t.tooltip,l=t.element;if(n.cssTransitions||o.hide().css("opacity",0),o.attr(s.r,"tooltip").attr(s.aHi,s.t),n.responsive){t.breakpoints=[],t.currentBreakpoint=!1,t.currentModifierClass=!1,t.responsiveSettings=[];var r=n.responsive,d=r.length,f=0;for(delete n.responsive,n.modifierClass=!1,f;d>f;f+=1)t.breakpoints.push(r[f].breakpoint),t.responsiveSettings.push(e.extend({},n,r[f]));t.updateSettings(),a.on("resize."+i,function(){t.updateSettings()})}n.focus&&(l.on("focus."+i+" click."+i,function(){t.show()}),l.on("blur."+i,function(){t.hide()})),n.mouseover&&(l.on("mouseenter."+i,function(){t.show()}),l.on("mouseout."+i,function(){n.focus?t.element.is(":focus")||t.hide():t.hide()})),a.on("scroll."+i+" resize."+i,function(){t.hide()}),a.trigger(i+".initialised",[t])},updateSettings:function(){var t=this,n=o(t.breakpoints,a);t.currentBreakpoint!==n&&(t.settings=e.extend(t.settings,t.responsiveSettings[n]),t.currentBreakpoint=n,t.currentModifierClass!==t.settings.modifierClass&&(t.tooltip.removeClass(t.currentModifierClass).addClass(t.settings.modifierClass),t.currentModifierClass=t.settings.modifierClass)),a.trigger(i+".updated",[t])},positionTooltip:function(){var e=this,t=e.settings,n=l(e.element),s=l(e.tooltip),o=r(e.element,n,a),d={top:0,left:0,bottom:"auto"};switch(t.position){case"right":default:d.left=o.right+t.tooltipOffsetX,d.top=o.top+n.height/2-s.height/2;break;case"top":d.left=o.left+n.width/2-s.width/2,d.top=o.top-s.height-t.tooltipOffsetY;break;case"topRight":d.left=o.right+t.tooltipOffsetX,d.top=o.top-s.height-t.tooltipOffsetY;break;case"bottomRight":d.left=o.right+t.tooltipOffsetX,d.top=o.bottom+t.tooltipOffsetY;break;case"bottom":d.left=o.left+n.width/2-s.width/2,d.top=o.bottom+t.tooltipOffsetY;break;case"screenBottom":d.left=0,d.top="auto",d.bottom=0;break;case"screenTop":d.left=0,d.top=0,d.bottom="auto";break;case"left":d.left=o.left-s.width-t.tooltipOffsetX,d.top=o.top+n.height/2-s.height/2;break;case"topLeft":d.left=o.left-s.width-t.tooltipOffsetX,d.top=o.top-s.height-t.tooltipOffsetY;break;case"bottomLeft":d.left=o.left-s.width-t.tooltipOffsetX,d.top=o.bottom+t.tooltipOffsetY}e.tooltip.css({left:d.left,top:d.top,bottom:d.bottom}),a.trigger(i+".positioned",[e])},show:function(){var e=this,t=e.settings,n=e.tooltip;e.tooltipStatus||(t.cssTransitions||n.show(),e.positionTooltip(),t.cssTransitions||n.animate({opacity:1},t.fadeSpeed),n.attr(s.aHi,s.f).addClass(t.tooltipOpenClass),e.tooltipStatus=!0,a.trigger(i+".show",[e]))},hide:function(){var e=this,t=e.settings,n=e.tooltip;e.tooltipStatus&&(t.cssTransitions||n.stop().animate({opacity:0},t.fadeSpeed,function(){n.hide()}),n.attr(s.aHi,s.t).removeClass(t.tooltipOpenClass),e.tooltipStatus=!1,a.trigger(i+".hide",[e]))},methodCaller:function(e){var t=this;switch(e){case"show":t.show();break;case"hide":t.hide();break;case"reposition":t.positionTooltip()}}}),e.fn[i]=function(t,n){return this.each(function(){var n=this;e.data(n,"plugin_"+i)||"object"!=typeof t&&"undefined"!=typeof t?"string"==typeof t&&e.data(n,"plugin_"+i).methodCaller(t):e.data(n,"plugin_"+i,new d(n,t))})},e.fn[i].defaultSettings={position:"top",tooltipOffsetX:5,tooltipOffsetY:5,tooltipModifierClass:"tooltip_top",tooltipOpenClass:"tooltip_open",focus:!0,mouseover:!0,responsive:!1,fadeSpeed:300,cssTransitions:!1}}(jQuery,window,document));