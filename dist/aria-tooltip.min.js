!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery,window)}(function(r,t){"use strict";var b="ariaTooltip",f="aria-hidden",o="aria-describedby",h="role",p="true",s="false",x=r(t);function w(t){var e,i,o,s,a=t.elementBoundingBox,n=t.elementBoundingBox,r=t.offsetX,f=t.offsetY;switch(t.position){case"right":e=a.top+a.height/2-n.height/2>t.safeHeight.min,i=a.top+a.height/2+n.height/2<t.safeHeight.max,o=a.right+r+n.width<t.safeWidth.max,s=a.right+r>t.safeWidth.min;break;case"top":e=a.top-f-n.height>t.safeHeight.min,i=a.left+a.width/2-n.width/2>t.safeWidth.min,o=a.left+a.width/2+n.width/2<t.safeWidth.max,s=a.top-f<t.safeHeight.max;break;case"bottom":e=a.bottom+f+n.height<t.safeHeight.max,i=a.left+a.width/2-n.width/2>t.safeWidth.min,o=a.left+a.width/2+n.width/2<t.safeWidth.max,s=a.bottom+f>t.safeHeight.min;break;case"topRight":e=a.top-f-n.height>t.safeHeight.min,i=a.right+r+n.width<t.safeWidth.max,o=a.right+r>t.safeWidth.min,s=a.top-f<t.safeHeight.max;break;case"bottomRight":e=a.right+r+n.width<t.safeWidth.max,i=a.bottom+f+n.height<t.safeHeight.max,o=a.bottom+f>t.safeHeight.min,s=a.right+r>t.safeWidth.min;break;case"topStart":e=a.top-f-n.height>t.safeHeight.min,i=a.left+n.width<t.safeWidth.max,o=a.left>t.safeWidth.min;break;case"bottomStart":e=a.bottom+f+n.height<t.safeHeight.max,i=a.left+n.width<t.safeWidth.max,o=a.left>t.safeWidth.min;break;case"topEnd":e=a.top-f-n.height>t.safeHeight.min,i=a.right-n.width>t.safeWidth.min,o=a.right>t.safeWidth.max;break;case"bottomEnd":e=a.bottom+f+n.height<t.safeHeight.max,i=a.right-n.width>t.safeWidth.min,o=a.right>t.safeWidth.max;break;case"left":e=a.left-r-n.width>t.safeWidth.min,i=a.top+a.height/2-n.height/2>t.safeHeight.min,o=a.top+a.height/2+n.height/2<t.safeHeight.max,s=a.left-r<t.safeWidth.max;break;case"topLeft":e=a.top-f-n.height>t.safeHeight.min,i=a.left-r-n.width>t.safeWidth.min,o=a.left-r<t.safeWidth.max,s=a.top-f<t.safeHeight.max;break;case"bottomLeft":i=a.left-r-n.width>t.safeWidth.min,e=a.bottom+f+n.height<t.safeHeight.max,o=a.bottom+f>t.safeHeight.min,s=a.left-r<t.safeWidth.max}return!!(e&&i&&o&&s)}function i(t,e){var i=this;i.element=r(t),i.tooltip=r("#"+i.element.attr(o)),i.settings=r.extend({},r.fn.ariaTooltip.defaultSettings,e),i.tooltipStatus=!1,i.currentModifierClass="",i.init()}r.extend(i.prototype,{init:function(){var t=this,e=t.settings,i=t.tooltip,o=t.element;if(e.cssTransitions||i.hide().css("opacity",0),i.attr(h,"tooltip").attr(f,p),e.responsive){t.breakpoints=[],t.currentBreakpoint=!1,t.responsiveSettings=[];var s=e.responsive,a=s.length,n=0;for(delete e.responsive;n<a;n+=1)t.breakpoints.push(s[n].breakpoint),t.responsiveSettings.push(r.extend({},e,s[n]));t.updateSettings(),x.on("resize."+b,function(){t.updateSettings()})}e.focus&&(o.on("focus."+b+" click."+b,function(){t.show()}),o.on("blur."+b,function(){t.hide()})),e.mouseover&&(o.on("mouseenter."+b,function(){t.show()}),o.on("mouseout."+b,function(){e.focus&&t.element.is(":focus")||t.hide()})),x.on("scroll."+b+" resize."+b,function(){t.hide()}),x.trigger(b+".initialised",[t])},changeModifier:function(t){var e=this;e.currentModifierClass!==t&&(e.tooltip.removeClass(e.currentModifierClass),""!==t&&e.tooltip.addClass(t),e.currentModifierClass=t)},updateSettings:function(){var t=this,e=function(t,e){for(var i=t.length-1,o=e.width();0<=i;i-=1)if(o>=t[i])return i}(t.breakpoints,x);t.currentBreakpoint!==e&&(t.settings=r.extend(t.settings,t.responsiveSettings[e]),t.currentBreakpoint=e),x.trigger(b+".updated",[t])},positionTooltip:function(){var t=this,e=t.settings,i=e.position,o=e.modifierClass,s=e.offsetX,a=e.offsetY,n=t.element[0].getBoundingClientRect(),r=n.height/2,f=n.width/2,h=t.tooltip[0].getBoundingClientRect(),p={top:0,left:0,bottom:"auto",transform:"none"};if(e.autoPosition){var d={min:e.safeAreaMarginX,max:x.width()-e.safeAreaMarginX},l={min:e.safeAreaMarginY,max:x.height()-e.safeAreaMarginY},g=w({elementBoundingBox:n,tooltipBoundingBox:h,offsetX:s,offsetY:a,safeHeight:l,safeWidth:d,position:i});if(!g){for(var m=e.autoPosition,c=m.length,u=-1;u<c&&!1===g;)g=w({elementBoundingBox:n,tooltipBoundingBox:h,offsetX:m[u+=1].offsetX||s,offsetY:m[u].offsetY||a,safeHeight:l,safeWidth:d,position:m[u].position});u<c&&(i=e.autoPosition[u].position,o=e.autoPosition[u].modifierClass||"",s=m[u].offsetX||s,a=m[u].offsetY||a,x.trigger(b+".autoPositioned",[t]))}}switch(t.changeModifier(o),i){case"right":default:p.left=n.right+s,p.top=n.top+r,p.transform="translateY(-50%)";break;case"top":p.left=n.left+f,p.top=n.top-a,p.transform="translate(-50%, -100%)";break;case"bottom":p.left=n.left+f,p.top=n.bottom+a,p.transform="translateX(-50%)";break;case"topRight":p.left=n.right+s,p.top=n.top-a,p.transform="translateY(-100%)";break;case"bottomRight":p.left=n.right+s,p.top=n.bottom+a;break;case"topStart":p.left=n.left,p.top=n.top-a,p.transform="translateY(-100%)";break;case"bottomStart":p.left=n.left,p.top=n.bottom+a;break;case"screenBottom":p.left=0,p.top="auto",p.bottom=0;break;case"screenTop":p.left=0,p.top=0,p.bottom="auto";break;case"topEnd":p.left=n.right,p.top=n.top-a,p.transform="translate(-100%, -100%)";break;case"bottomEnd":p.left=n.right,p.top=n.bottom+a,p.transform="translateX(-100%)";break;case"left":p.left=n.left-s,p.top=n.top+r,p.transform="translate(-100%, -50%)";break;case"topLeft":p.left=n.left-s,p.top=n.top-a,p.transform="translate(-100%, -100%)";break;case"bottomLeft":p.left=n.left-s,p.top=n.bottom+a,p.transform="translateX(-100%)"}t.tooltip.css({left:p.left,top:p.top,bottom:p.bottom,transform:p.transform}),x.trigger(b+".positioned",[t])},show:function(){var t=this,e=t.settings,i=t.tooltip;t.tooltipStatus||(e.cssTransitions||i.show(),t.positionTooltip(),e.cssTransitions||i.stop().animate({opacity:1},e.fadeSpeed),i.attr(f,s).addClass(e.openClass),t.tooltipStatus=!0,x.trigger(b+".show",[t]))},hide:function(){var t=this,e=t.settings,i=t.tooltip;t.tooltipStatus&&(e.cssTransitions||i.stop().animate({opacity:0},e.fadeSpeed,function(){i.hide()}),i.attr(f,p).removeClass(e.openClass),t.tooltipStatus=!1,x.trigger(b+".hide",[t]))},methodCaller:function(t){switch(t){case"show":this.show();break;case"hide":this.hide()}}}),r.fn[b]=function(t,e){return this.each(function(){r.data(this,"plugin_"+b)||"object"!=typeof t&&void 0!==t?"string"==typeof t&&r.data(this,"plugin_"+b).methodCaller(t):r.data(this,"plugin_"+b,new i(this,t))})},r.fn[b].defaultSettings={position:"top",autoPosition:!1,offsetX:5,offsetY:5,modifierClass:"",openClass:"tooltip_open",focus:!0,mouseover:!0,responsive:!1,fadeSpeed:300,cssTransitions:!1,safeAreaMarginX:5,safeAreaMarginY:5}});