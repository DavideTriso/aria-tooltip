!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery,window)}(function(t,e){"use strict";var o="ariaTooltip",i={aHi:"aria-hidden",aDes:"aria-describedby",r:"role",t:"true",f:"false"},s=t(e);function n(e,o){this.element=t(e),this.tooltip=t("#"+this.element.attr(i.aDes)),this.settings=t.extend({},t.fn.ariaTooltip.defaultSettings,o),this.tooltipStatus=!1,this.currentModifierClass="",this.init()}t.extend(n.prototype,{init:function(){var e=this,n=e.settings,r=e.tooltip,a=e.element;if(n.cssTransitions||r.hide().css("opacity",0),r.attr(i.r,"tooltip").attr(i.aHi,i.t),n.responsive){e.breakpoints=[],e.currentBreakpoint=!1,e.responsiveSettings=[];var f=n.responsive,h=f.length,p=0;for(delete n.responsive;p<h;p+=1)e.breakpoints.push(f[p].breakpoint),e.responsiveSettings.push(t.extend({},n,f[p]));e.updateSettings(),s.on("resize."+o,function(){e.updateSettings()})}n.focus&&(a.on("focus."+o+" click."+o,function(){e.show()}),a.on("blur."+o,function(){e.hide()})),n.mouseover&&(a.on("mouseenter."+o,function(){e.show()}),a.on("mouseout."+o,function(){n.focus?e.element.is(":focus")||e.hide():e.hide()})),s.on("scroll."+o+" resize."+o,function(){e.hide()}),s.trigger(o+".initialised",[e])},changeModifier:function(t){this.currentModifierClass!==t&&(this.tooltip.removeClass(this.currentModifierClass).addClass(t),this.currentModifierClass=t)},updateSettings:function(){var e=function(t,e){for(var o=t.length-1,i=e.width();o>=0;o-=1)if(i>=t[o])return o}(this.breakpoints,s);this.currentBreakpoint!==e&&(this.settings=t.extend(this.settings,this.responsiveSettings[e]),this.currentBreakpoint=e),s.trigger(o+".updated",[this])},checkOverflow:function(){var t=this.settings,e=this.element[0].getBoundingClientRect(),o=this.tooltip[0].getBoundingClientRect(),i=s.height()-5,n=s.width()-5,r=t.offsetX,a=setting.offsetY,f=e.top-a-o.height>5,h=e.top+e.height/2-o.height/2>5,p=e.bottom+a+o.height<i,l=e.bottom+e.height/2+o.height/2>5,c=e.left-r-o.width>5,u=e.left+e.width/2-o.width/2>5,d=e.right+r+o.width<n,g=e.left+e.width/2+o.width/2<n,m=e.left+o.width<n,b=e.right-o.width>5;return{top:!!(f&&u&&g),bottom:!!(p&&u&&g),left:!!(c&&h&&l),right:!!(d&&h&&l),topRight:!(!f||!d),topLeft:!(!f||!c),bottomRight:!(!p||!d),bottomLeft:!(!p||!d),topStart:!(!f||!m),topEnd:!(!f||!b),bottomStart:!(!p||!m),bottomEnd:!(!p||!b),screenTop:!0,screenBottom:!0}},positionTooltip:function(){var t=this.settings,e=t.position,i=t.modifierClass,n=t.offsetX,r=t.offsetY,a=this.element[0].getBoundingClientRect(),f=a.height/2,h=a.width/2,p=(this.tooltip[0].getBoundingClientRect(),{top:0,left:0,bottom:"auto",transform:"none"});if(t.autoPosition){var l=this.checkOverflow();if(!l[e]&&"screenTop"!==e&&"screenBottom"!==e){for(var c=t.autoPosition.length,u=0;!l[t.autoPosition[u].position]&&u<c;)u+=1;u<c&&(e=t.autoPosition[u].position,i=t.autoPosition[u].modifierClass,s.trigger(o+".autoPositioned",[this]))}}switch(this.changeModifier(i),e){case"right":default:p.left=a.right+n,p.top=a.top+f,p.transform="translateY(-50%)";break;case"top":p.left=a.left+h,p.top=a.top-r,p.transform="translate(-50%, -100%)";break;case"topRight":p.left=a.right+n,p.top=a.top-r,p.transform="translateY(-100%)";break;case"bottomRight":p.left=a.right+n,p.top=a.bottom+r;break;case"bottom":p.left=a.left+h,p.top=a.bottom+r,p.transform="translateX(-50%)";break;case"topStart":p.left=a.left,p.top=a.top-r,p.transform="translateY(-100%)";break;case"bottomStart":p.left=a.left,p.top=a.bottom+r;break;case"screenBottom":p.left=0,p.top="auto",p.bottom=0;break;case"screenTop":p.left=0,p.top=0,p.bottom="auto";break;case"topEnd":p.left=a.right,p.top=a.top-r,p.transform="translate(-100%, -100%)";break;case"bottomEnd":p.left=a.right,p.top=a.bottom+r,p.transform="translateX(-100%)";break;case"left":p.left=a.left-n,p.top=a.top+f,p.transform="translate(-100%, -50%)";break;case"topLeft":p.left=a.left-n,p.top=a.top-r,p.transform="translate(-100%, -100%)";break;case"bottomLeft":p.left=a.left-n,p.top=a.bottom+r,p.transform="translateX(-100%)"}this.tooltip.css({left:p.left,top:p.top,bottom:p.bottom,transform:p.transform}),s.trigger(o+".positioned",[this])},show:function(){var t=this.settings,e=this.tooltip;this.tooltipStatus||(t.cssTransitions||e.show(),this.positionTooltip(),t.cssTransitions||e.stop().animate({opacity:1},t.fadeSpeed),e.attr(i.aHi,i.f).addClass(t.openClass),this.tooltipStatus=!0,s.trigger(o+".show",[this]))},hide:function(){var t=this.settings,e=this.tooltip;this.tooltipStatus&&(t.cssTransitions||e.stop().animate({opacity:0},t.fadeSpeed,function(){e.hide()}),e.attr(i.aHi,i.t).removeClass(t.openClass),this.tooltipStatus=!1,s.trigger(o+".hide",[this]))},methodCaller:function(t){switch(t){case"show":this.show();break;case"hide":this.hide()}}}),t.fn[o]=function(e,i){return this.each(function(){t.data(this,"plugin_"+o)||"object"!=typeof e&&void 0!==e?"string"==typeof e&&t.data(this,"plugin_"+o).methodCaller(e):t.data(this,"plugin_"+o,new n(this,e))})},t.fn[o].defaultSettings={position:"top",autoPosition:!1,offsetX:5,offsetY:5,modifierClass:"tooltip_top",openClass:"tooltip_open",focus:!0,mouseover:!0,responsive:!1,fadeSpeed:300,cssTransitions:!1}});