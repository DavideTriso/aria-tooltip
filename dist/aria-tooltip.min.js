!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery,window)}(function(t,o){"use strict";var i="ariaTooltip",e={aHi:"aria-hidden",aDes:"aria-describedby",r:"role",t:"true",f:"false"},s=t(o);function n(o,i){this.element=t(o),this.tooltip=t("#"+this.element.attr(e.aDes)),this.settings=t.extend({},t.fn.ariaTooltip.defaultSettings,i),this.tooltipStatus=!1,this.autoPositioned=!1,this.currentModifierClass=!1,this.init()}t.extend(n.prototype,{init:function(){var o=this,n=o.settings,a=o.tooltip,r=o.element;if(n.cssTransitions||a.hide().css("opacity",0),a.attr(e.r,"tooltip").attr(e.aHi,e.t),n.responsive){o.breakpoints=[],o.currentBreakpoint=!1,o.responsiveSettings=[];var f=n.responsive,l=f.length,p=0;for(delete n.responsive,n.modifierClass=!1;p<l;p+=1)o.breakpoints.push(f[p].breakpoint),o.responsiveSettings.push(t.extend({},n,f[p]));o.updateSettings(),s.on("resize."+i,function(){o.updateSettings()})}n.focus&&(r.on("focus."+i+" click."+i,function(){o.show()}),r.on("blur."+i,function(){o.hide()})),n.mouseover&&(r.on("mouseenter."+i,function(){o.show()}),r.on("mouseout."+i,function(){n.focus?o.element.is(":focus")||o.hide():o.hide()})),s.on("scroll."+i+" resize."+i,function(){o.hide()}),s.trigger(i+".initialised",[o])},updateModifierClass:function(t){this.currentModifierClass!==t&&(this.tooltip.removeClass(this.currentModifierClass).addClass(t),this.currentModifierClass=t)},updateSettings:function(){var o=function(t,o){for(var i=t.length-1,e=o.width();i>=0;i-=1)if(e>=t[i])return i}(this.breakpoints,s);this.currentBreakpoint!==o&&(this.settings=t.extend(this.settings,this.responsiveSettings[o]),this.currentBreakpoint=o),this.updateModifierClass(this.settings.modifierClass),s.trigger(i+".updated",[this])},checkOverflow:function(){var t=this.settings,o=this.element[0].getBoundingClientRect(),i=this.tooltip[0].getBoundingClientRect(),e=s.height()-5,n=s.width()-5,a=o.top-t.tooltipOffsetY-i.height>5,r=o.top+o.height/2-i.height/2>5,f=o.bottom+t.tooltipOffsetY+i.height<e,l=o.bottom+o.height/2+i.height/2>5,p=o.left-t.tooltipOffsetX-i.width>5,h=o.left+o.width/2-i.width/2>5,d=o.right+t.tooltipOffsetX+i.width<n,u=o.left+o.width/2+i.width/2<n,c=o.left+i.width<n,g=o.right-i.width>5;return{top:!!(a&&h&&u),bottom:!!(f&&h&&u),left:!!(p&&r&&l),right:!!(d&&r&&l),topRight:!(!a||!d),topLeft:!(!a||!p),bottomRight:!(!f||!d),bottomLeft:!(!f||!d),topStart:!(!a||!c),topEnd:!(!a||!g),bottomStart:!(!f||!c),bottomEnd:!(!f||!g),screenTop:!0,screenBottom:!0}},positionTooltip:function(){var t=this.settings,o=t.position,e=this.element[0].getBoundingClientRect(),n=e.height/2,a=e.width/2,r=(this.tooltip[0].getBoundingClientRect(),{top:0,left:0,bottom:"auto",transform:"none"});if(t.autoPositioning){var f=this.checkOverflow();if(!f[o]&&"screenTop"!==o&&"screenBottom"!==o){for(var l=t.autoPositioning.length,p=0;!f[t.autoPositioning[p].position]&&p<l;)p+=1;p<l&&(o=t.autoPositioning[p].position,this.updateModifierClass(t.autoPositioning[p].tooltipModifierClass),this.autoPositioned=!0,s.trigger(i+".autoPositioning",[this]))}}switch(o){case"right":default:r.left=e.right+t.tooltipOffsetX,r.top=e.top+n,r.transform="translateY(-50%)";break;case"top":r.left=e.left+a,r.top=e.top-t.tooltipOffsetY,r.transform="translate(-50%, -100%)";break;case"topRight":r.left=e.right+t.tooltipOffsetX,r.top=e.top-t.tooltipOffsetY,r.transform="translateY(-100%)";break;case"bottomRight":r.left=e.right+t.tooltipOffsetX,r.top=e.bottom+t.tooltipOffsetY;break;case"bottom":r.left=e.left+a,r.top=e.bottom+t.tooltipOffsetY,r.transform="translateX(-50%)";break;case"topStart":r.left=e.left,r.top=e.top-t.tooltipOffsetY;break;case"bottomStart":r.left=e.left,r.top=e.bottom+t.tooltipOffsetY,r.transform="translateY(100%)";break;case"screenBottom":r.left=0,r.top="auto",r.bottom=0;break;case"screenTop":r.left=0,r.top=0,r.bottom="auto";break;case"topEnd":r.left=e.left,r.top=e.bottom+t.tooltipOffsetY,r.transform="translateY(100%)";break;case"bottomEnd":r.left=e.right,r.top=e.bottom+t.tooltipOffsetY,r.transform="translate(-100%, 100%)";break;case"left":r.left=e.left-t.tooltipOffsetX,r.top=e.top+n,r.transform="translate(-100%, -50%)";break;case"topLeft":r.left=e.left-t.tooltipOffsetX,r.top=e.top-t.tooltipOffsetY,r.transform="translate(-100%, -100%)";break;case"bottomLeft":r.left=e.left-t.tooltipOffsetX,r.top=e.bottom+t.tooltipOffsetY,r.transform="translateX(-100%)"}this.tooltip.css({left:r.left,top:r.top,bottom:r.bottom,transform:r.transform}),s.trigger(i+".positioned",[this])},show:function(){var t=this.settings,o=this.tooltip;this.tooltipStatus||(t.cssTransitions||o.show(),this.positionTooltip(),t.cssTransitions||o.stop().animate({opacity:1},t.fadeSpeed),o.attr(e.aHi,e.f).addClass(t.tooltipOpenClass),this.tooltipStatus=!0,s.trigger(i+".show",[this]))},hide:function(){var t=this,o=t.settings,n=t.tooltip;t.tooltipStatus&&(o.cssTransitions||n.stop().animate({opacity:0},o.fadeSpeed,function(){n.hide(),o.autoPositioning&&t.autoPositioned&&(t.updateModifierClass(o.tooltipModifierClass),t.autoPositioned=!1)}),n.attr(e.aHi,e.t).removeClass(o.tooltipOpenClass),t.tooltipStatus=!1,s.trigger(i+".hide",[t]))},methodCaller:function(t){switch(t){case"show":this.show();break;case"hide":this.hide()}}}),t.fn[i]=function(o,e){return this.each(function(){t.data(this,"plugin_"+i)||"object"!=typeof o&&void 0!==o?"string"==typeof o&&t.data(this,"plugin_"+i).methodCaller(o):t.data(this,"plugin_"+i,new n(this,o))})},t.fn[i].defaultSettings={position:"top",autoPositioning:!1,tooltipOffsetX:5,tooltipOffsetY:5,tooltipModifierClass:"tooltip_top",tooltipOpenClass:"tooltip_open",focus:!0,mouseover:!0,responsive:!1,fadeSpeed:300,cssTransitions:!1}});