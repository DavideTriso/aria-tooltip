!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery,window)}(function(t,e){"use strict";var i="ariaTooltip",o={aHi:"aria-hidden",aDes:"aria-describedby",r:"role",t:"true",f:"false"},s=t(e);function a(t){var e,i,o,s,a=t.elementBoundingBox,n=t.elementBoundingBox,h=t.offsetX,r=t.offsetY;switch(t.position){case"right":e=a.top+a.height/2-n.height/2>t.safeHeight.min,i=a.top+a.height/2+n.height/2<t.safeHeight.max,o=a.right+h+n.width<t.safeWidth.max,s=a.right+h>t.safeWidth.min;break;case"top":e=a.top-r-n.height>t.safeHeight.min,i=a.left+a.width/2-n.width/2>t.safeWidth.min,o=a.left+a.width/2+n.width/2<t.safeWidth.max,s=a.top-r<t.safeHeight.max;break;case"bottom":e=a.bottom+r+n.height<t.safeHeight.max,i=a.left+a.width/2-n.width/2>t.safeWidth.min,o=a.left+a.width/2+n.width/2<t.safeWidth.max,s=a.bottom+r>t.safeHeight.min;break;case"topRight":e=a.top-r-n.height>t.safeHeight.min,i=a.right+h+n.width<t.safeWidth.max,o=a.right+h>t.safeWidth.min,s=a.top-r<t.safeHeight.max;break;case"bottomRight":e=a.right+h+n.width<t.safeWidth.max,i=a.bottom+r+n.height<t.safeHeight.max,o=a.bottom+r>t.safeHeight.min,s=a.right+h>t.safeWidth.min;break;case"topStart":e=a.top-r-n.height>t.safeHeight.min,i=a.left+n.width<t.safeWidth.max,o=a.left>t.safeWidth.min;break;case"bottomStart":e=a.bottom+r+n.height<t.safeHeight.max,i=a.left+n.width<t.safeWidth.max,o=a.left>t.safeWidth.min;break;case"topEnd":e=a.top-r-n.height>t.safeHeight.min,i=a.right-n.width>t.safeWidth.min,o=a.right>t.safeWidth.max;break;case"bottomEnd":e=a.bottom+r+n.height<t.safeHeight.max,i=a.right-n.width>t.safeWidth.min,o=a.right>t.safeWidth.max;break;case"left":e=a.left-h-n.width>t.safeWidth.min,i=a.top+a.height/2-n.height/2>t.safeHeight.min,o=a.top+a.height/2+n.height/2<t.safeHeight.max,s=a.left-h<t.safeWidth.max;break;case"topLeft":e=a.top-r-n.height>t.safeHeight.min,i=a.left-h-n.width>t.safeWidth.min,o=a.left-h<t.safeWidth.max,s=a.top-r<t.safeHeight.max;break;case"bottomLeft":i=a.left-h-n.width>t.safeWidth.min,e=a.bottom+r+n.height<t.safeHeight.max,o=a.bottom+r>t.safeHeight.min,s=a.left-h<t.safeWidth.max}return!!(e&&i&&o&&s)}function n(e,i){this.element=t(e),this.tooltip=t("#"+this.element.attr(o.aDes)),this.settings=t.extend({},t.fn.ariaTooltip.defaultSettings,i),this.tooltipStatus=!1,this.currentModifierClass="",this.init()}t.extend(n.prototype,{init:function(){var e=this,a=e.settings,n=e.tooltip,h=e.element;if(a.cssTransitions||n.hide().css("opacity",0),n.attr(o.r,"tooltip").attr(o.aHi,o.t),a.responsive){e.breakpoints=[],e.currentBreakpoint=!1,e.responsiveSettings=[];var r=a.responsive,f=r.length,p=0;for(delete a.responsive;p<f;p+=1)e.breakpoints.push(r[p].breakpoint),e.responsiveSettings.push(t.extend({},a,r[p]));e.updateSettings(),s.on("resize."+i,function(){e.updateSettings()})}a.focus&&(h.on("focus."+i+" click."+i,function(){e.show()}),h.on("blur."+i,function(){e.hide()})),a.mouseover&&(h.on("mouseenter."+i,function(){e.show()}),h.on("mouseout."+i,function(){a.focus?e.element.is(":focus")||e.hide():e.hide()})),s.on("scroll."+i+" resize."+i,function(){e.hide()}),s.trigger(i+".initialised",[e])},changeModifier:function(t){this.currentModifierClass!==t&&(this.tooltip.removeClass(this.currentModifierClass),""!==t&&this.tooltip.addClass(t),this.currentModifierClass=t)},updateSettings:function(){var e=function(t,e){for(var i=t.length-1,o=e.width();i>=0;i-=1)if(o>=t[i])return i}(this.breakpoints,s);this.currentBreakpoint!==e&&(this.settings=t.extend(this.settings,this.responsiveSettings[e]),this.currentBreakpoint=e),s.trigger(i+".updated",[this])},positionTooltip:function(){var t=this.settings,e=t.position,o=t.modifierClass,n=t.offsetX,h=t.offsetY,r=this.element[0].getBoundingClientRect(),f=r.height/2,p=r.width/2,d=this.tooltip[0].getBoundingClientRect(),l={top:0,left:0,bottom:"auto",transform:"none"};if(t.autoPosition){var g={min:t.safeAreaMarginX,max:s.width()-t.safeAreaMarginX},m={min:t.safeAreaMarginY,max:s.height()-t.safeAreaMarginY},c=a({elementBoundingBox:r,tooltipBoundingBox:d,offsetX:n,offsetY:h,safeHeight:m,safeWidth:g,position:e});if(!c){for(var u=t.autoPosition,b=u.length,x=-1;x<b&&!1===c;)c=a({elementBoundingBox:r,tooltipBoundingBox:d,offsetX:u[x+=1].offsetX||n,offsetY:u[x].offsetY||h,safeHeight:m,safeWidth:g,position:u[x].position});x<b&&(e=t.autoPosition[x].position,o=t.autoPosition[x].modifierClass||"",n=u[x].offsetX||n,h=u[x].offsetY||h,s.trigger(i+".autoPositioned",[this]))}}switch(this.changeModifier(o),e){case"right":default:l.left=r.right+n,l.top=r.top+f,l.transform="translateY(-50%)";break;case"top":l.left=r.left+p,l.top=r.top-h,l.transform="translate(-50%, -100%)";break;case"bottom":l.left=r.left+p,l.top=r.bottom+h,l.transform="translateX(-50%)";break;case"topRight":l.left=r.right+n,l.top=r.top-h,l.transform="translateY(-100%)";break;case"bottomRight":l.left=r.right+n,l.top=r.bottom+h;break;case"topStart":l.left=r.left,l.top=r.top-h,l.transform="translateY(-100%)";break;case"bottomStart":l.left=r.left,l.top=r.bottom+h;break;case"screenBottom":l.left=0,l.top="auto",l.bottom=0;break;case"screenTop":l.left=0,l.top=0,l.bottom="auto";break;case"topEnd":l.left=r.right,l.top=r.top-h,l.transform="translate(-100%, -100%)";break;case"bottomEnd":l.left=r.right,l.top=r.bottom+h,l.transform="translateX(-100%)";break;case"left":l.left=r.left-n,l.top=r.top+f,l.transform="translate(-100%, -50%)";break;case"topLeft":l.left=r.left-n,l.top=r.top-h,l.transform="translate(-100%, -100%)";break;case"bottomLeft":l.left=r.left-n,l.top=r.bottom+h,l.transform="translateX(-100%)"}this.tooltip.css({left:l.left,top:l.top,bottom:l.bottom,transform:l.transform}),s.trigger(i+".positioned",[this])},show:function(){var t=this.settings,e=this.tooltip;this.tooltipStatus||(t.cssTransitions||e.show(),this.positionTooltip(),t.cssTransitions||e.stop().animate({opacity:1},t.fadeSpeed),e.attr(o.aHi,o.f).addClass(t.openClass),this.tooltipStatus=!0,s.trigger(i+".show",[this]))},hide:function(){var t=this.settings,e=this.tooltip;this.tooltipStatus&&(t.cssTransitions||e.stop().animate({opacity:0},t.fadeSpeed,function(){e.hide()}),e.attr(o.aHi,o.t).removeClass(t.openClass),this.tooltipStatus=!1,s.trigger(i+".hide",[this]))},methodCaller:function(t){switch(t){case"show":this.show();break;case"hide":this.hide()}}}),t.fn[i]=function(e,o){return this.each(function(){t.data(this,"plugin_"+i)||"object"!=typeof e&&void 0!==e?"string"==typeof e&&t.data(this,"plugin_"+i).methodCaller(e):t.data(this,"plugin_"+i,new n(this,e))})},t.fn[i].defaultSettings={position:"top",autoPosition:!1,offsetX:5,offsetY:5,modifierClass:"",openClass:"tooltip_open",focus:!0,mouseover:!0,responsive:!1,fadeSpeed:300,cssTransitions:!1,safeAreaMarginX:5,safeAreaMarginY:5}});